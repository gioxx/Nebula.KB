"use strict";(globalThis.webpackChunknebula=globalThis.webpackChunknebula||[]).push([[4987],{8453:(e,o,l)=>{l.d(o,{R:()=>s,x:()=>r});var i=l(6540);const t={},n=i.createContext(t);function s(e){const o=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(n.Provider,{value:o},e.children)}},9986:(e,o,l)=>{l.r(o),l.d(o,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Nebula/Log/usage/cookbook","title":"Cookbook","description":"Practical recipes that show common ways to use Nebula.Log.","source":"@site/docs/Nebula/Log/usage/cookbook.md","sourceDirName":"Nebula/Log/usage","slug":"/Nebula/Log/usage/cookbook","permalink":"/docs/Nebula/Log/usage/cookbook","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Cookbook","permalink":"/docs/tags/cookbook"},{"inline":true,"label":"Log","permalink":"/docs/tags/log"},{"inline":true,"label":"Nebula.Log","permalink":"/docs/tags/nebula-log"}],"version":"current","sidebarPosition":50,"frontMatter":{"sidebar_position":50,"title":"Cookbook","description":"Practical recipes that show common ways to use Nebula.Log.","hide_title":true,"id":"cookbook","tags":["Cookbook","Log","Nebula.Log"]},"sidebar":"tutorialSidebar","previous":{"title":"Test-ActivityLog","permalink":"/docs/Nebula/Log/usage/test-activitylog"},"next":{"title":"Getting started","permalink":"/docs/Nebula/Tools/intro"}}');var t=l(4848),n=l(8453);const s={sidebar_position:50,title:"Cookbook",description:"Practical recipes that show common ways to use Nebula.Log.",hide_title:!0,id:"cookbook",tags:["Cookbook","Log","Nebula.Log"]},r="Cookbook",a={},c=[{value:"Script bootstrap",id:"script-bootstrap",level:2},{value:"JSON-friendly logging",id:"json-friendly-logging",level:2},{value:"Rotating smaller files",id:"rotating-smaller-files",level:2},{value:"Colorized console without files",id:"colorized-console-without-files",level:2},{value:"Confirm the log path resolves as expected",id:"confirm-the-log-path-resolves-as-expected",level:2},{value:"Pre-flight log check",id:"pre-flight-log-check",level:2}];function g(e){const o={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"cookbook",children:"Cookbook"})}),"\n",(0,t.jsx)(o.p,{children:"Practical recipes that show common ways to use Nebula.Log."}),"\n",(0,t.jsx)(o.h2,{id:"script-bootstrap",children:"Script bootstrap"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'param(\n    [string]$LogDir = "C:\\Logs\\MyJob"\n)\n\nWrite-Log -LogLocation $LogDir -Message "Job started" -Level INFO -WriteToFile\n\ntry {\n    # ... your work here ...\n    Write-Log -LogLocation $LogDir -Message "Job completed" -Level SUCCESS -WriteToFile\n}\ncatch {\n    Write-Log -LogLocation $LogDir -Message "Job failed: $_" -Level ERROR -WriteToFile\n    throw\n}\n'})}),"\n",(0,t.jsx)(o.h2,{id:"json-friendly-logging",children:"JSON-friendly logging"}),"\n",(0,t.jsx)(o.p,{children:"For ingestion in tools that expect JSON Lines:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'Write-Log -LogLocation "C:\\Logs\\Api" `\n          -Message "POST /orders accepted" `\n          -Level INFO `\n          -AsJson -WriteToFile -WriteOnlyToFile\n'})}),"\n",(0,t.jsx)(o.h2,{id:"rotating-smaller-files",children:"Rotating smaller files"}),"\n",(0,t.jsx)(o.p,{children:"Keep files small by lowering the threshold:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'$common = @{ LogLocation = "C:\\Logs\\Service"; LogFileName = "service.log"; WriteToFile = $true }\n\nWrite-Log @common -Message "Starting" -Level INFO -MaxFileSizeKB 64\nWrite-Log @common -Message "Tick" -Level DEBUG -MaxFileSizeKB 64\n'})}),"\n",(0,t.jsx)(o.h2,{id:"colorized-console-without-files",children:"Colorized console without files"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'Write-Log -Message "Heads up: cache warming" -Level WARNING -Color\nWrite-Log -Message "All good" -Level SUCCESS -Color\nWrite-Log -Message "Failed to connect" -Level ERROR -Color\n'})}),"\n",(0,t.jsx)(o.h2,{id:"confirm-the-log-path-resolves-as-expected",children:"Confirm the log path resolves as expected"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'# Called from inside a script file\nWrite-Log -Message "Check target folder" -Level DEBUG -WriteToFile\n\n# If you prefer an explicit folder\nWrite-Log -LogLocation "D:\\Logs\\Explicit" -Message "Forced path" -Level INFO -WriteToFile\n'})}),"\n",(0,t.jsx)(o.h2,{id:"pre-flight-log-check",children:"Pre-flight log check"}),"\n",(0,t.jsx)(o.p,{children:"Detect a bad or locked log file before a long-running job:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'$check = Test-ActivityLog -LogLocation "C:\\Logs\\Nightly" -TryFix\nif ($check.Status -ne \'OK\') {\n    throw "Cannot write to $($check.Path): $($check.Error)"\n}\n'})})]})}function d(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}}}]);